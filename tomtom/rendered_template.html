
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tax Invoice</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
        }

        .container {
            max-width: 800px;
            margin: 20px auto;
            padding: 20px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }

        h2, h3 {
            margin: 0;
        }

        .invoice-header h2 {
            font-size: 24px;
        }

        .invoice-header p {
            font-size: 14px;
        }

        .invoice-details {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
        }

        .invoice-details-left {
            flex: 1;
        }

        .invoice-details-right {
            flex: 1;
            text-align: right;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
        }

        th, td {
            border: 1px solid #ccc;
            padding: 8px;
            text-align: left;
        }

        .bold-label {
            font-weight: bold;
        }

        .footer {
            margin-top: 20px;
            border-top: 1px solid #ccc;
            padding-top: 10px;
        }
    </style>
 
</head>

<body>
    <script>
        function generatePaymentLink() {
            let amount = '12345';
            
            let customerName = 'Infosys';

            fetch('/maps/payment_link/', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'X-CSRFToken': getCookie('csrftoken')
                },
                body: JSON.stringify({
                    amount: amount,
                    customer_name: customerName,
                })
            })
            .then(response => response.json())
            .then(data => {
                console.log(data); // Log the response data for debugging
                document.getElementById('payment_link').textContent = data.payment_link;
                let paymentLink = data.payment_link;
                document.getElementById('payment_link').href = paymentLink;
                document.getElementById('payment_link').textContent = 'Click here to make payment';

            })
            .catch(error => {
                console.error('Error:', error);
            });
        }
        // Function to get CSRF token from cookies
        function getCookie(name) {
            var cookieValue = null;
            if (document.cookie && document.cookie !== '') {
                var cookies = document.cookie.split(';');
                for (var i = 0; i < cookies.length; i++) {
                    var cookie = cookies[i].trim();
                    if (cookie.substring(0, name.length + 1) === (name + '=')) {
                        cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                        break;
                    }
                }
            }
            return cookieValue;
        }
       // generatePaymentLink();
       // generatePdf();

        function generatePdf() {
            // Make an API call to generate the PDF after ensuring the link is set
            fetch('/maps/generate_sample_invoice/', {
                method: 'GET',  // or 'POST' if needed
                headers: {
                    'Content-Type': 'application/json',
                    'X-CSRFToken': getCookie('csrftoken')
                }
            })
            .then(response => response.blob())
            .then(blob => {
                // Create a download link for the generated PDF and trigger download
                const url = window.URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = 'invoice.pdf';
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                window.URL.revokeObjectURL(url);
            })
            .catch(error => {
                console.error('Error generating PDF:', error);
            });
        }
    </script>
    <div class="container">
        <div class="invoice-header">
            <h2>VARNA TRAVELS</h2>
            <p>#778, SM Arcade, AECS Layout, "B" Block, Singasandra Post, Bangalore - 560 068 | 
                Email: varnatravels@gmail.com, info@varnatravels.com | 
                Phone: +91 80-25743355
            </p>
        </div>
        <hr />
        <h3 style="text-align: center">TAX INVOICE</h3>
        <hr />

        <div class="invoice-details">
            <div class="invoice-details-left">
                
                <p>Infosys</p>
                <p>
                    Shantipura main road <br />
                    Bengaluru, <br />
                    Karnataka - 560100 <br />
                    GST NO: AA7373373737A <br />
                    <span class='bold-label'>State of Supply:</span> 29-Karnataka <br />
                </p>
            </div>
            <div class="invoice-details-right">
                <p>
                    *Original for recipient <br />
                    <span class='bold-label'>Invoice Number:</span> VT/202324/30<br />
                    <!-- < date should format as DD/MM/YY ></date> -->
                    <span class='bold-label'>Invoice Date:</span> 18/04/24<br />
                    <span class='bold-label'>Due Date:</span> 18/04/24<br />
                    <span class='bold-label'>Invoice Period:</span> 2024-3-20,2024-4-30<br />
                </p>
            </div>
        </div>

        <table>
            <thead>
                <tr>
                    <th>SL.NO</th>
                    <th>DESCRIPTION</th>
                    <th>Rate</th>
                    <th>QTY</th>
                    <th>AMOUNT</th>
                </tr>
            </thead>
            <tbody>
                
                    <tr>
                        <td>1</td>
                        <td>
                            <div>
                                <span>VT00428</span>
                                <span class='bold-label'> Booked by: </span>Ragu | 
                                <!-- <span class='bold-label'>Date: </span><br /> -->
                                <span class='bold-label'>Date: </span>2024-03-20T13:30:00Z<br />
                                <span class='bold-label'>Vehicle Type: </span>Innova | 
                                <span class='bold-label'>KA01MS2324</span> | 
                                <span class='bold-label'>Trip Type: </span>Drop<br />
                                <span class='bold-label'>Passengers: </span>
                                    Rahul,
                                    Virat<br />
                                    <a href="">
                                        Click to view trip sheet
                                    </a>
                            </div>
                        </td>
                        <td>0.00</td>
                        <td>1</td>
                        <td>0.00</td>
                    </tr>
                    
                        <tr>
                            <td></td>
                            <td>Extra Km</td>
                            <td>1</td>
                            <td>123</td>
                            <td>123</td>   
                        </tr>
                    
                    
                    <tr>
                        <td></td>
                        <td>Extra Hours</td>
                        <td>100</td>
                        <td>1</td>
                        <td>100</td>   
                    </tr>
                    
                    
                    <tr>
                        <td></td>
                        <td>Driver Allowance</td>
                        <td></td>
                        <td></td>
                        <td>0.00</td>   
                    </tr>
                    
                    
                    <tr>
                        <td></td>
                        <td>Toll, Parking & Entry Tax</td>
                        <td></td>
                        <td></td>
                        <td>35.0</td>
                    </tr>
                    
                
                    <tr>
                        <td>2</td>
                        <td>
                            <div>
                                <span>VT00432</span>
                                <span class='bold-label'> Booked by: </span>Ragu | 
                                <!-- <span class='bold-label'>Date: </span><br /> -->
                                <span class='bold-label'>Date: </span>2024-03-22T02:30:00Z<br />
                                <span class='bold-label'>Vehicle Type: </span>Innova | 
                                <span class='bold-label'>KA01MS2324</span> | 
                                <span class='bold-label'>Trip Type: </span>Pickup<br />
                                <span class='bold-label'>Passengers: </span>
                                    Virat,
                                    Rahul<br />
                                    <a href="">
                                        Click to view trip sheet
                                    </a>
                            </div>
                        </td>
                        <td>0.00</td>
                        <td>1</td>
                        <td>0.00</td>
                    </tr>
                    
                        <tr>
                            <td></td>
                            <td>Extra Km</td>
                            <td>0</td>
                            <td>123</td>
                            <td>0</td>   
                        </tr>
                    
                    
                    
                    <tr>
                        <td></td>
                        <td>Driver Allowance</td>
                        <td></td>
                        <td></td>
                        <td>0.00</td>   
                    </tr>
                    
                    
                    <tr>
                        <td></td>
                        <td>Toll, Parking & Entry Tax</td>
                        <td></td>
                        <td></td>
                        <td>0.0</td>
                    </tr>
                    
                
                    <tr>
                        <td>3</td>
                        <td>
                            <div>
                                <span>VT00431</span>
                                <span class='bold-label'> Booked by: </span>Ragu | 
                                <!-- <span class='bold-label'>Date: </span><br /> -->
                                <span class='bold-label'>Date: </span>2024-03-20T13:30:00Z<br />
                                <span class='bold-label'>Vehicle Type: </span>Innova | 
                                <span class='bold-label'>KA01MS2324</span> | 
                                <span class='bold-label'>Trip Type: </span>Drop<br />
                                <span class='bold-label'>Passengers: </span>
                                    Virat,
                                    Rahul<br />
                                    <a href="">
                                        Click to view trip sheet
                                    </a>
                            </div>
                        </td>
                        <td>0.00</td>
                        <td>1</td>
                        <td>0.00</td>
                    </tr>
                    
                        <tr>
                            <td></td>
                            <td>Extra Km</td>
                            <td>0</td>
                            <td>123</td>
                            <td>0</td>   
                        </tr>
                    
                    
                    
                    <tr>
                        <td></td>
                        <td>Driver Allowance</td>
                        <td></td>
                        <td></td>
                        <td>0.00</td>   
                    </tr>
                    
                    
                    <tr>
                        <td></td>
                        <td>Toll, Parking & Entry Tax</td>
                        <td></td>
                        <td></td>
                        <td>0.0</td>
                    </tr>
                    
                
                    <tr>
                        <td>4</td>
                        <td>
                            <div>
                                <span>VT00434</span>
                                <span class='bold-label'> Booked by: </span>Ragu | 
                                <!-- <span class='bold-label'>Date: </span><br /> -->
                                <span class='bold-label'>Date: </span>2024-03-25T13:30:00Z<br />
                                <span class='bold-label'>Vehicle Type: </span>Sedan | 
                                <span class='bold-label'>KA45X4567</span> | 
                                <span class='bold-label'>Trip Type: </span>Drop<br />
                                <span class='bold-label'>Passengers: </span>
                                    Rahul,
                                    Virat,
                                    RamKumar<br />
                                    <a href="">
                                        Click to view trip sheet
                                    </a>
                            </div>
                        </td>
                        <td>1000.00</td>
                        <td>1</td>
                        <td>1000.00</td>
                    </tr>
                    
                        <tr>
                            <td></td>
                            <td>Extra Km</td>
                            <td>0</td>
                            <td>123</td>
                            <td>0</td>   
                        </tr>
                    
                    
                    
                    <tr>
                        <td></td>
                        <td>Driver Allowance</td>
                        <td></td>
                        <td></td>
                        <td>0.00</td>   
                    </tr>
                    
                    
                    <tr>
                        <td></td>
                        <td>Toll, Parking & Entry Tax</td>
                        <td></td>
                        <td></td>
                        <td>0.0</td>
                    </tr>
                    
                
                <!-- Add total rows and calculations dynamically here based on data -->
                <tr>
                    <td>5</td>
                    <td>Charges</td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td></td>
                    <td></td>
                    <td colspan="2" ><span class="bold-label">Taxable Sub Total</span></td>
                    <td>0.00</td>
                </tr>
                <tr>
                    <td></td>
                    <td></td>
                    <td colspan="2" >CGST 2.5% - 2.5%</td>
                    <td>0.00</td>
                </tr>
                <tr>
                    <td></td>
                    <td></td>
                    <td colspan="2" >SGST 2.5% - 2.5%</td>
                    <td>0.00</td>
                </tr>
                <tr>
                    <td></td>
                    <td></td>
                    <td colspan="2" ><span class="bold-label">Non-Taxable Sub Total</span></td>
                    <td>0.00</td>
                </tr>
                <tr>
                    <td></td>
                    <td></td>
                    <td colspan="2" ><span class="bold-label">Round Off</span></td>
                    <td>0.00</td>
                </tr>
                <tr>
                    <td colspan="2"><span class="bold-label">In words:</span>Twelve Thousand, Three Hundred And Forty-Five</td>
                    <td colspan="2"><span class="bold-label">TOTAL</span></td>
                    <td>12345</td>
                </tr>
                <tr>
                    <td colspan="2"><span class="bold-label">Payment Link:</span>https://rzp.io/i/ehuluMY1cQ</td>
                    <!-- <td colspan="3"><a href="#" id="payment_link" target="_blank">Loading...</a></td> -->
                    
                </tr>
            </tbody>
        </table>

        <div style="display: flex; margin-top: 10px;">
            <div style="flex: 70%;">
                <p>
                    1. All cheques/drafts to be drawn in favour of: VARNA TRAVELS<br />
                    2. Duty slips/statement of usage enclosed in Original.<br />
                    3. All disputes are subject to Bangalore jurisdiction only.<br />
                    4. We are registered as an MSME in accordance with government regulations. (REG NO: UDYAM-KR-02-0055863).<br />
                    5. If there is any clarification regarding this invoice, please revert within seven days of submission; otherwise, it will be considered final.
                </p>
                <p style="margin-top: 10px;">
                    <span class="bold-label">GSTIN:</span> AA7373373737A | 
                    <span class="bold-label">SAC/HSN/Accounting code:</span> | 
                    <span class="bold-label">PAN:</span> HSGSYS839333
                </p>
                <p style="margin-top: 10px;">
                    <span class="bold-label" style="text-decoration: underline;">Bank Details</span><br />
                    <span class="bold-label">Account No.:</span> 123456789<br />
                    <span class="bold-label">Bank:</span> HDFC Bank (Bengaluru) | 
                    <span class="bold-label">IFSC:</span> HDFC000123<br />
                    Please issue cheques in the name of <span class="bold-label">"VARNA TRAVELS".</span>
                </p>
            </div>
            <div style="flex: 30%; text-align: right;">
                <p>For Varna Travels</p>
                <p>Authorized Signatory</p>
            </div>
            </div>
        </div>
    </div>
    
</body>

</html>
